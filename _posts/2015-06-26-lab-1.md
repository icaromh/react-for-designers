---
layout: post
permalink: /labs/reactjs-introduction-for-people-who-know-just-enough-jquery-to-get-by
title: React.js Introduction For People Who Know Just Enough jQuery To Get By
---

<div class="message">This post is a work in progress.</div>

<blockquote class="twitter-tweet" lang="en"><p lang="en" dir="ltr">Super excited for this new Oâ€™Reilly book <a href="http://t.co/PnhQuG3257">pic.twitter.com/PnhQuG3257</a></p>&mdash; Wes Bos (@wesbos) <a href="https://twitter.com/wesbos/status/598144948559605760">May 12, 2015</a></blockquote>

Like the cow above, I also heard React.js was good and spent some time playing with it. Now that I'm pretty comfortable with React, I decided to write yet another tutorial on this subject.

## Target Audience: People Who Know Just Enough jQuery to Get by

Before I begin, I'd like to clarify who the target audience is.

Zed Shaw, the author of "[Learn Code the Hard Way](http://learncodethehardway.org/)" series, recently wrote an excellent blog post called [Early v.s. Beginning Coders](http://zedshaw.com/2015/06/16/early-vs-beginning-coders/). In his post, Zed criticizes programming educators who claim that their materials are for "beginners", but in reality are incomprehensible for most "total" beginners.

I don't want to make a similar mistake here. Of people who have never tried out React, some are comfortable with frontend JS frameworks like [Backbone](http://backbonejs.org/), [Ember](http://emberjs.com/), or [AngularJS](https://angularjs.org/). Some know JavaScript pretty well. Some know just enough jQuery to get by. A tutorial that's effective for one group may not be optimal for the other groups.

In this tutorial, I'm targeting the third group I mentioned: **people who know just enough jQuery to get by**. Examples of people who might fit in this category would be:

- Designers who can do basic coding in HTML/CSS/jQuery.
- Wordpress developers who know how to use jQuery plugins.
- Beginning developers who have completed basic HTML/CSS/JS tutorials online.
- Backend developers who rely on Bootstrap and basic jQuery for their frontend needs.
- Anyone who does more copy-pasting than architecting when it comes to JavaScript.

If you're comfortable with JavaScript or any of the frontend frameworks, this tutorial is probably not for you, and you'll be very frustrated with my writing style. Otherwise, let's get started!

## Overview: We're Going to Build a "Tweet Box"

Many React.js tutorials begin by explaining how React works or why React is awesome. My tutorial will not.

Instead, we'll get right to building a simple UI, alternating between jQuery implementations and React.js implementations, explaining the differences along the way. The UI will resemble the Tweet box that you find on [Twitter](http://twitter.com):

![](/images/labs/tweet-box.png)

## Step 1: Introduction to JSBin

We'll be using [JSBin](http://jsbin.com/), an online HTML/CSS/JS editor which supports both jQuery and React.js code. You might be familiar with similar services like [CodePen](http://codepen.io/) or [JSFiddle](https://jsfiddle.net/) - they're all pretty similar, so I just decided to go with JSBin.

<p class="jsbin-wrapper">
  <a class="jsbin-embed" href="http://jsbin.com/fisawa/2/embed?html,output">JS Bin on jsbin.com</a>
</p>

Try modifying the HTML on the left - i.e. change the button's text. You'll see the change on the right.

You can click "Save" on the menu to save changes on your JSBin account (after creating one). Once you're on the JSBin site, you can add a library to import things like Bootstrap.

![](/images/labs/add-library.png)

I then added (1) bootstrap (CSS only; removed JS), and (2) `btn btn-primary` classes on `<button>`, and the output is a little prettier:

<p class="jsbin-wrapper">
  <a class="jsbin-embed" href="http://jsbin.com/fisawa/5/embed?html,output">JS Bin on jsbin.com</a>
</p>

Now that you've seen some JSBins, llet's build out a tweet box. I've added a text field above the button. I've used some Bootstrap classes like `well`, `clearfix`, etc., but those are just for the looks and irrelevant for the tutorial.

<p class="jsbin-wrapper">
  <a class="jsbin-embed" href="http://jsbin.com/wewimu/1/embed?html,output">JS Bin on jsbin.com</a>
</p>

## Step 2: Implement the First Feature - Tweet Button Should Initially Be Disabled

Now, time for some JS. We'll first implement the following feature:

**Feature 1:** the "Tweet" button should initially be disabled. When there's at least one character in the text field, the "Tweet" button should be enabled.

Here's the demo. As you can see, the button is initially disabled. If you type something into the text box, the button becomes enabled.

<a class="jsbin-embed" href="http://jsbin.com/wewimu/2/embed?output">JS Bin on jsbin.com</a>

Now, here's the jQuery code that makes this happen. (Note that, on JSBin, you don't need to wrap your code inside `$(function() { ... });`.

<p class="jsbin-wrapper">
  <a class="jsbin-embed" href="http://jsbin.com/wewimu/3/edit?js,output">JS Bin on jsbin.com</a>
</p>

Here's the explanation:

- I used the tag names, `button` and `textarea`, as selectors - no need to add IDs/classes for this trivial example.
- To enable/disable the button, use `$(...).prop(disabled, ...)`.
- To listen for the changes in `textarea`, use the `input` event, which works on modern browsers.

DO NOT PROCEED if this example was confusing to you. You should be more comfortable in jQuery before learning React.

Now that this feature is complete, we'll try to re-implement the same thing using React. This will take several steps.

## Step 3: The Tweet Box Using React.js

One of the first things you'll notice in React is that **you'll be writing the markup in JS, not in HTML**.

Let me show you what I mean. Here's the React.js code which displays the same Tweet box:

<p class="jsbin-wrapper">
  <a class="jsbin-embed" href="http://jsbin.com/wewimu/6/embed?js,output">JS Bin on jsbin.com</a>
</p>

Some observations:

- Inside `return (...)` is HTML code, not JavaScript. In React, you'll write in the special syntax called JSX, which lets you put HTML inside JavaScript. Your browser does not understand JSX, so when React processes your JSX code, it automatically converts the HTML part inside JSX into valid JavaScript code so that the browser can understand it.
- The HTML code inside `return (...)` is pretty much identical to the HTML code from step 1.
- Try clicking on "HTML" on the above JSBin, and you'll see that there's no markup in HTML besides `<body></body>`. This is what I mean when I said **you'll be writing the markup in JS, not in HTML**.

Some questions you might have and answers to them:

**Question**: What does `React.createClass` and `React.render` do? Do I need to understand them now? <br>
**Answer**: Basically, `React.createClass` creates a piece of UI with a name (in this case, `TweetBox`). This then gets attached to the DOM through `React.render(<TweetBox />, document.body)` - meaning this UI is added inside the `body` tag. That's all you need to know for now.

**Question**: Do I need to do anything special to write JSX on my local machine?<br>
**Answer**: Yes, but that's outside the scope of this tutorial - in short, you need to import a [JSX transformer](http://facebook.github.io/react/downloads.html). That's not necessary on JSBin though. All you need to do to write JSX on JSBin is to (1) add a React library (the one without addons) and (2) select "JSX (React)" from the dropdown menu on the JS view.

**Question**: Isn't it a bad style to write markup (HTML) and behavior (JS) in the same place?<br>
**Answer**: It might be a bad style for simple web pages, but not necessarily so for large web applications. In large web applications, there will be hundreds of pieces of UI, each containing its own markup and behavior. The code will be more manageable if those markup and behavior are kept together for each piece of UI, as opposed to keeping "all markups" together and "all behaviors" together. And React is designed to develop large web applications. React was actually created and used by Facebook, one of the largest web applications ever.

**Question**: What's next?<br>
**Answer**: I'll show you how to write the above React code step-by-step.

## Step 4: Writing Your First React.js Code

I created a starter HTML file for you. Using "Add library," I've imported Bootstrap (removed JS) and React (without addons). **To follow along, click "Save" to copy this to your JSBin.**

<a class="jsbin-embed" href="http://jsbin.com/notawe/1/embed?html">JS Bin on jsbin.com</a>

After saving to your JSBin, **open the JavaScript tab and select "JSX (React)"**:

![](/images/labs/select-jsx.png)

Now you're ready to write some React. **Try to follow along and type the following JS code snippets** on your JSBin.

```
var TweetBox = React.createClass({
  render: function() {
  }
});
```

This is the template for creating a piece of UI using React (in this case, a Tweet box). It's just as essential as `$(function() { ... })` on jQuery.

To actually construct the UI, we must fill in the `render` method. For now, let's keep it simple with just a single `div` tag.

```
var TweetBox = React.createClass({
  render: function() {
    return (
      <div>
        Hello World!
      </div>
    );
  }
});
```

Like the above example, **put a pair of parenthesis `(...)` after `return`, and write the markup inside.**

### JSX Gotchas

There's one thing you need to remember with JSX - on `render`, there must be exactly **one** outer-most tag inside `return (...)`.

So the following doesn't work because there's zero outer-most tag:

```
return (
  Hello World!
);
```

This also doesn't work because there are two outer-most (`span`) tags inside `return (...)`:

```
return (
  <span>
    Hello
  </span>
  <span>
    World
  </span>
);
```

For the above example, the workaround is to create an extra tag which wraps the two `span` tags. I just used `div` here. This is a necessary evil when using React.

```
return (
  <div>
    <span>
      Hello
    </span>
    <span>
      World
    </span>
  </div>
);
```

### Attaching the UI to the DOM

Now we need to "attach" this UI to the DOM in order to see `Hello World`. **We will put it inside `body` by using `React.render`**:

```
var TweetBox = React.createClass({
  ...
});

React.render(
  <TweetBox />,
  document.body
);
```

`React.render` takes two arguments. The first argument is the UI object, which is `<VariableName />`. The second argument is the DOM object.

Now, you should see `Hello World` appear on your JSBin. Congratulations, you wrote your first React UI!

### Write the Actual HTML for the Tweet Box

Now, instead of `Hello World`, we'll implement the HTML for the Tweet Box. **Swap the contents of `render` with this:**

```
return (
  <div className="well clearfix">
    <textarea className="form-control"></textarea>
    <br/>
    <button className="btn btn-primary pull-right">Tweet</button>
  </div>
);
```

There are two things you need to watch out for:

- **Do not use `class`**. Instead, use `className`. It's because JSX gets translated to JS, and `class` is a keyword in the newest version of JS.
- **If you use `<br>` instead of `<br/>`, it won't work.** Make sure to put `/` on self-closing tags.

Everything else should be the same with the jQuery example from before.

If you typed this correctly, then you should see the Tweet box on your JSBin. That's it for this step! Here's the JSBin up to this part:

<p class="jsbin-wrapper">
  <a class="jsbin-embed" href="http://jsbin.com/vajica/2/embed?js,output">JS Bin on jsbin.com</a>
</p>

## Step 5: Re-implement the First Feature - Tweet Button Should Initially Be Disabled - in React

We're going to re-implement in React the first feature we implemented using jQuery:

**Feature 1**: the "Tweet" button should initially be disabled. When there's at least one character in the text field, the "Tweet" button should be enabled.

Here's the jQuery code we wrote:

<p class="jsbin-wrapper">
  <a class="jsbin-embed" href="http://jsbin.com/wewimu/3/edit?js,output">JS Bin on jsbin.com</a>
</p>

Let's see how we can do this in React.

**Start with the JSBin from step 4. First, let's disable the button by adding `disabled`.**

```
render: function() {
  return (
    ...
    <button className="..." disabled>Tweet</button>
    ...
  );
}
```

Then the button should now be disabled. Note that in our jQuery implementation we wrote:

```
$("button").prop("disabled", true);

```

to initially disable the button, but we could have instead modified the `button` tag like we did for our React implementation.

Now, we need to enable the button when there's at least one character in the text field.

### Handle Change Event

First, we need to wait when users enter the text. In our jQuery implementation, we wrote:

```
$("textarea").on("input", function() {
  ...
}
```

In the React land, we write the event handler as a **method**. **Let's call it `handleChange`**:

```
React.createClass({
  handleChange: function(event) {
  },
  render: function() {
    ...
  }
});
```

Next, we invoke this handler when text is entered. To do so, **modify the `textarea` tag in `render()` like this**:

```
<textarea className="form-control"
          onChange={this.handleChange}></textarea>
```

- We used `input` event for jQuery, but in React we use `onChange` - you'll learn about these things from React's documentation, so don't worry too much now.
- **More importantly**, we use `{...}` syntax to include any JavaScript code inside the HTML syntax part of JSX. In this case, we want to pass the handler `handleChange`, and we prefix it with `this.` because it's a method on this UI object.
- If you're used to jQuery, this might seem like a bad practice, but don't worry. Again, in large applications, the code will be more manageable if those markup and behavior are kept together for each piece of UI.

To make sure that the handler is indeed being called, **let's use `console.log`**:

```
handleChange: function(event) {
  console.log(event.target.value);
},
```

The `event` object contains `target`, which is the `textarea`. We use `.value` on it to output the current value of the `textarea`.

**In your JSBin, open the `console` tab to check the output. Then type something on the Tweet box.**

You can try it out here:

<p class="jsbin-wrapper">
  <a class="jsbin-embed" href="http://jsbin.com/kohudu/2/embed?javascript,console,output">JS Bin on jsbin.com</a>
</p>

That's it for this step! We'll finish this feature on the next step.

## Step 6: Implementing State

I'll now explain one of the biggest differences between jQuery-style code and React.js-style code.

In jQuery, when some event happens, you usually change the DOM (like we did earlier):

![](/images/labs/jquery-style.png)

In React, **you don't directly modify the DOM**. Instead, in an event handler, you modify **the magic "state"**. Officially it's called just "state", but it's pretty magical so hence the name. And this is done by calling `this.setState`.

![](/images/labs/react-style-1.png)

Then, every time the magic "state" is updated, **`render` is called again**. And **inside `render` you can access the magic state**.

![](/images/labs/react-style-2.png)

This is how you update the UI in response to an event. Yes it's confusing, so let me explain using code.

### Writing the Event Handler

**Start with the JSBin from step 5.** First, we need to **initialize the magic "state" object**. To do this, we need to write a `getInitialState` method, and then have it return a JS object, which becomes the initial state.

What goes in the object? **Let's create a single key called `text`** and have it store whatever is inside the Tweet box.

```
var TweetBox = React.createClass({
  getInitialState: function() {
    return {
      text: ""
    };
  },
  handleChange: ...
  render: ...
});
```

**Next, we'll modify the event handler** to set the state's `text` field to whatever is currently in the text box.

```
handleChange: function(event) {
  this.setState({ text: event.target.value });
},
```

Finally, in `render`, let's try to output the value of the `text` field in the state object. To do this, **simply use `this.state.text`, and use the `{ ... }` syntax** to call JS code inside the HTML syntax part of JSX.

```
<button ...>Tweet</button>
<br/>
{this.state.text}
```

**Now, try entering some text on the tweet box.** The same set of text should appear below the button.

Here's the JSBin:

<p class="jsbin-wrapper">
  <a class="jsbin-embed" href="http://jsbin.com/yabiqo/2/embed?js,output">JS Bin on jsbin.com</a>
</p>

Now the previous diagram might make more sense to you.

![](/images/labs/react-style-2.png)

### Enabling/Disabling the Button

Now that we can watch for the text changes, all that's left is to enable/disable the button depending on whether the text is entered.

Using the magic "state", we can use this logic:

- If `this.state.text.length == 0`, then the button should be disabled.

To do this in React, **add `disabled` attribute, and set it with the return value of `this.state.text.length == 0`**. Since this is a JS code, you need to wrap it with `{}`.

```
<button className="btn btn-primary pull-right"
        disabled={this.state.text.length == 0}>Tweet</button>
```

If you do `disabled="true"` or `disabled="false"` in raw HTML it won't work, but React is **not** raw HTML. It does the following magic:

- If you assign `{true}` to `disabled` in JSX, it gets converted to just `disabled` in HTML.
- If you assign `{false}`to `disabled` in JSX, the `disabled` attribute is removed.

This works with other boolean attributes like `checked`. How did I know this? [Googling](https://github.com/facebook/react/issues/961), of course, but the official documentation should include it soon.

The resulting JSBin is here:

<p class="jsbin-wrapper">
  <a class="jsbin-embed" href="http://jsbin.com/lutefu/2/embed?js,output">JS Bin on jsbin.com</a>
</p>

### Reflections

Again, keep this difference between jQuery and React in mind before moving onto the next step:

- In jQuery, you write event handlers which modify the **dom**.
- In React.js, you write event handlers which modify the **state**. And you write `render` to reflect the current state.

<div class="message">This post is a work in progress.</div>
